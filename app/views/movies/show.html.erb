<div class="col-xl-8 col-12 mx-auto mb-5">
  <div class="row p-3 flex-container">
    <div class="col-lg col-md-8 d-flex mb-2 flex-column primary-dark text-bold">
      <div class="display-4"><strong><%= @movie.title %></strong></div>
      <div class="d-flex justify-content-start">
        <div class="text-muted mx-3"><%= @movie.release_date.year %></div>
        <div class="text-muted mx-3"><%= @movie.category.category %></div>
        <div class="text-muted mx-3"><%= @movie.movie_detail.runtime %></div>
      </div>
    </div>
    <div class="col-lg col-md-4 d-flex flex-column justify-content-end text-lg-right text-md-left">
      <div><h4>RATING</h4></div>
      <div>
        <span><i class="fa fa-star fa-2x" style="color: #FFD700;"></i></span>
        <span class="mx-3" style="font-size: 30px"><strong style="font-size: 30px"><%= @movie.rating %></strong><span class="text-muted">/10</span></span>
      </div>
    </div>
  </div>

  <div class="row p-3 media">
    <div class="col-xl-3 col-lg-8 col-lg-offset-4 col-9 col-offset-3 mb-3 mx-auto poster">
      <% if !@movie.photos.first.nil? and !@movie.photos.first.img_url.include? "imdb" %>
          <%= image_tag @movie.photos.first.img_url, class: "rounded", style: "width: 90%; height: 345px;" %>
        <% else %>
          <%= image_tag "https://fullygarage.com/wp-content/uploads/2018/02/Arjun-Reddy-Movie-Printed-Poster-scaled.jpg", class: "rounded", style: "width: 90%; height: 345px;" %>
        <% end %>
    </div>
    <div class="col-xl-9 col-12 trailer">
      <iframe width="100%" height="343px" src="<%= @movie.trailer_link %>" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>

  <div class="row col-12">
    <blockquote class="detail-bq">
      <h3>Genres</h3>
    </blockquote>
    <div class="col-12 d-flex flex-row justify-content-start details">
      <% @movie.movie_genres.each do |g| %>
        <span class="mx-2"><%= g.genre.genre_type %></span>
      <%end%>
    </div>
  </div>
  <div class="row col-12">
    <blockquote class="detail-bq">
      <h3>Cast</h3>
    </blockquote>
    <div class="col-12 d-flex flex-column details">
    <% @movie.movie_casts.each do |m| %>
      <div class="mx-.5">
        <span class="mx-.5"><%= m.role_name %>:</span>
        <span class="mx-.5"><%= m.cast_crew_detail.name %></span>
      </div>
      <%end%>
    </div>
  <div>
  <div class="row col-12">
    <blockquote class="detail-bq">
      <h3>Crew</h3>
    </blockquote>
    <div class="col-12 d-flex flex-column details">
    <% @movie.movie_crews.each do |m| %>
      <div class="mx-.5">
        <span class="mx-.5"><%= m.department.name %>: </span>
        <span class="mx-.5"><%= m.cast_crew_detail.name %></span>
      </div>
      <%end%>
    </div>
  <div>

</div>
